{"version":3,"file":"commonHelpers2.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nconst form = document.querySelector('.form'),\n  searchInp = document.querySelector('input[type=\"text\"]'),\n  gallery = document.querySelector('.gallery'),\n  loader = document.querySelector('.loader');\n\nlet searchWord = '';\n\nconst API_KEY = import.meta.env.VITE_API_KEY;\n\nsearchInp.addEventListener('input', e => {\n  e.preventDefault();\n\n  searchWord = e.target.value;\n});\n\nconst falseToast = {\n  icon: 'icon-false',\n  backgroundColor: '#FC5A5A',\n  message:\n    'Sorry, there are no images matching your search query. Please try again!',\n  messageColor: '#FAFAFB',\n  messageSize: '16px',\n  position: 'topRight',\n  close: false,\n};\n\nconst url = 'https://pixabay.com/api/?key=';\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n\nif(gallery) {\n    gallery.parentNode.removeChild(gallery);\n}\n  loader.style.display = 'inline-block';\n\n  fetch(\n    `${url}${API_KEY}&q=${searchWord}&image_type=photo&orientation=horizontal&safesearch=true&per_page=18`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      gallery.textContent = '';\n      if (data.hits.length === 0) {\n        loader.style.display = 'none';\n        return iziToast.show(falseToast);\n      }\n      const dataList = data.hits.map(photo => {\n        return `\n        <li class=\"gallery-item\">\n          <a href=\"${photo.largeImageURL}\">\n            <img class=\"api-img\" src=\"${photo.webformatURL}\" alt=\"${photo.tags}\">\n            <div class=\"img-desc\">\n              <span><b>Likes:</b> <br/>${photo.likes}</span>\n              <span><b>Views:</b> <br/>${photo.views}</span>\n              <span><b>Comments:</b> <br/>${photo.comments}</span>\n              <span><b>Downloads:</b> <br/>${photo.downloads}</span>\n            </div>\n          </a>\n        </li>\n                  `;\n      });\n\n      gallery.insertAdjacentHTML('afterbegin', dataList.join(''));\n\n      loader.style.display = 'none';\n\n      modalImg.refresh();\n\n      searchWord = '';\n\n      form.reset();\n    })\n    .catch(error => {\n      console.error('Error:', error);\n    });\n});\n\nconst modalImg = new SimpleLightbox('.gallery a', {\n  overlayOpacity: 0,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["form","searchInp","gallery","loader","searchWord","API_KEY","e","falseToast","url","response","data","iziToast","dataList","photo","modalImg","error","SimpleLightbox"],"mappings":"6vBAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACzCC,EAAY,SAAS,cAAc,oBAAoB,EACvDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE3C,IAAIC,EAAa,GAEjB,MAAMC,EAAU,qCAEhBJ,EAAU,iBAAiB,QAASK,GAAK,CACvCA,EAAE,eAAc,EAEhBF,EAAaE,EAAE,OAAO,KACxB,CAAC,EAED,MAAMC,EAAa,CACjB,KAAM,aACN,gBAAiB,UACjB,QACE,2EACF,aAAc,UACd,YAAa,OACb,SAAU,WACV,MAAO,EACT,EAEMC,EAAM,gCAEZR,EAAK,iBAAiB,SAAUM,GAAK,CACnCA,EAAE,eAAc,EAGfJ,GACCA,EAAQ,WAAW,YAAYA,CAAO,EAExCC,EAAO,MAAM,QAAU,eAEvB,MACE,GAAGK,IAAMH,OAAaD,uEACvB,EACE,KAAKK,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CAEZ,GADAR,EAAQ,YAAc,GAClBQ,EAAK,KAAK,SAAW,EACvB,OAAAP,EAAO,MAAM,QAAU,OAChBQ,EAAS,KAAKJ,CAAU,EAEjC,MAAMK,EAAWF,EAAK,KAAK,IAAIG,GACtB;AAAA;AAAA,qBAEMA,EAAM;AAAA,wCACaA,EAAM,sBAAsBA,EAAM;AAAA;AAAA,yCAEjCA,EAAM;AAAA,yCACNA,EAAM;AAAA,4CACHA,EAAM;AAAA,6CACLA,EAAM;AAAA;AAAA;AAAA;AAAA,mBAK5C,EAEDX,EAAQ,mBAAmB,aAAcU,EAAS,KAAK,EAAE,CAAC,EAE1DT,EAAO,MAAM,QAAU,OAEvBW,EAAS,QAAO,EAEhBV,EAAa,GAEbJ,EAAK,MAAK,CAChB,CAAK,EACA,MAAMe,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,CACnC,CAAK,CACL,CAAC,EAED,MAAMD,EAAW,IAAIE,EAAe,aAAc,CAChD,eAAgB,EAChB,aAAc,MACd,aAAc,GAChB,CAAC"}